import{DefaultNamingStrategy as t}from"typeorm";const e=254,n=6,a=99,i=1,r=128,o=5,l={comment:"Extra data in JSON format",default:{},name:"extra",nullable:!1,type:"json"};var m,g,c;!function(t){t.BigInteger="bigint",t.Decimal="decimal",t.Integer="integer",t.SmallInteger="smallint",t.UUID="uuid"}(m||(m={})),function(t){t.BigInteger="bigint",t.Bit="bit",t.BitVarying="bit varying",t.Bool="bool",t.Boolean="boolean",t.Box="box",t.ByteHexadecimal="bytea",t.CIText="citext",t.Char="char",t.Character="character",t.CharacterVarying="character varying",t.Circle="circle",t.Cube="cube",t.Date="date",t.DateRange="daterange",t.Decimal="decimal",t.DoublePrecision="double precision",t.Enum="enum",t.Float="float",t.Float4="float4",t.Float8="float8",t.Geography="geography",t.Geometry="geometry",t.HStore="hstore",t.IPAddress="inet",t.IPCIDR="cidr",t.Int="int",t.Int2="int2",t.Int4="int4",t.Int4Range="int4range",t.Int8="int8",t.Int8Range="int8range",t.Integer="integer",t.Interval="interval",t.JSON="json",t.JSONB="jsonb",t.LabelTrees="ltree",t.Line="line",t.LineSegment="lseg",t.MACAddress="macaddr",t.Money="money",t.NumberRange="numrange",t.Numeric="numeric",t.Path="path",t.Point="point",t.Polygon="polygon",t.Real="real",t.SmallInteger="smallint",t.String="character varying",t.Text="text",t.TextSearchQuery="tsquery",t.TextSearchVector="tsvector",t.Time="time",t.TimeStamp="timestamp",t.TimeStampWithTimeZoneAbbr="timestamptz",t.TimeStampWithTimeZoneRange="tstzrange",t.TimeStampWithoutTimeZone="timestamp without time zone",t.TimeStampWithoutTimeZoneRange="tsrange",t.TimeWithTimeZoneAbbr="timetz",t.TimeWithTimeZone="time with time zone",t.TimeWithoutTimeZone="time without time zone",t.TimeStampWithTimeZone="timestamp with time zone",t.UUID="uuid",t.VariableBitString="varbit",t.VariableChar="varchar",t.XML="xml"}(g||(g={})),function(t){t[t.EmailMax=254]="EmailMax",t[t.EmailMin=6]="EmailMin",t[t.NameMax=99]="NameMax",t[t.NameMin=1]="NameMin",t[t.PassMax=128]="PassMax",t[t.PassMin=5]="PassMin"}(c||(c={}));const s={eager:!0},h={eager:!0,onDelete:"RESTRICT",onUpdate:"CASCADE"},u={eager:!0,onDelete:"CASCADE",onUpdate:"CASCADE"};function sha1Triplet(t,e,n,a){return t<20?e&n|~e&a:t<40?e^n^a:t<60?e&n|e&a|n&a:e^n^a}function addSafe(t,e){const n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function bitwiseRotateToLeft(t,e){return t<<e|t>>>32-e}function sha1OfRawString(t){return function bigEndianToString(t){let e="";for(let n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>24-n%32&255);return e}(function bigEndianToSha1(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;const n=Array(80);let a=1732584193,i=-271733879,r=-1732584194,o=271733878,l=-1009589776;for(let e=0;e<t.length;e+=16){const g=a,c=i,s=r,h=o,u=l;for(let g=0;g<80;g+=1){n[g]=g<16?t[e+g]:bitwiseRotateToLeft(n[g-3]^n[g-8]^n[g-14]^n[g-16],1);const c=addSafe(addSafe(bitwiseRotateToLeft(a,5),sha1Triplet(g,i,r,o)),addSafe(addSafe(l,n[g]),(m=g)<20?1518500249:m<40?1859775393:m<60?-1894007588:-899497514));l=o,o=r,r=bitwiseRotateToLeft(i,30),i=a,a=c}a=addSafe(a,g),i=addSafe(i,c),r=addSafe(r,s),o=addSafe(o,h),l=addSafe(l,u)}var m;return Array(a,i,r,o,l)}(function rawStringToBigEndian(t){let e=Array(t.length>>2);for(let t=0;t<e.length;t+=1)e[t]=0;for(let n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}(t),8*t.length))}function cryptSha1(t){return function rawStringToHexString(t){let e,n="";for(let a=0;a<t.length;a+=1)e=t.charCodeAt(a),n+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return n}(sha1OfRawString(function stringToRawUtf8String(t){let e,n,a="",i=-1;for(;++i<t.length;)e=t.charCodeAt(i),n=i+1<t.length?t.charCodeAt(i+1):0,55296<=e&&e<=56319&&56320<=n&&n<=57343&&(e=65536+((1023&e)<<10)+(1023&n),i+=1),e<=127?a+=String.fromCharCode(e):e<=2047?a+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?a+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(a+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return a}(t)))}function stripPublic(t,e=!0){let n=t.trim().normalize("NFC");return e&&n.startsWith("public.")?n.substr(7):n}class SafeNamingStrategy extends t{constructor(){super(...arguments),this.name="SafeNamingStrategy"}foreignKeyName(t,e,n,a,i="FK",r=!0){const o=stripPublic(String(t),r),l=stripPublic(n||"",r),m=e.reduce((t,e)=>`${stripPublic(t,r)}__${stripPublic(e,r)}`,`${o}__${l}`),g=63-i.length;return m.length>g?`${i}${cryptSha1(m)}`:`${i}${m}`}relationConstraintName(t,e,n="REL",a=!0){const i=stripPublic(String(t),a),r=63-n.length,o=`${n}__${i}__${e.map(t=>stripPublic(t,a)).join("_")}`;return o.length>r?`${n}${cryptSha1(o)}`:o}indexName(t,e,n,a="IDX",i=!0){let r=stripPublic(String(t),i);const o=63-a.length,l=`${a}__${r}__${e.map(t=>stripPublic(t,i)).join("_")}`;return l.length>o?`${a}${cryptSha1(l)}`:l}}export{l as ColumnOptionsExtra,m as ColumnPrimaryType,g as ColumnType,c as ConstLength,e as EMAIL_LENGTH_MAX,n as EMAIL_LENGTH_MIN,s as MANY_TO_MANY_OPTION_DEFAULT,h as MANY_TO_ONE_OPTION_DEFAULT,a as NAME_LENGTH_MAX,i as NAME_LENGTH_MIN,u as ONE_TO_ONE_OPTION_DEFAULT,r as PASSWORD_LENGTH_MAX,o as PASSWORD_LENGTH_MIN,SafeNamingStrategy};
//# sourceMappingURL=index.mjs.map
