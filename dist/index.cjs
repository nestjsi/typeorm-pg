"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t,a=require("typeorm");function sha1Triplet(e,t,a,r){return e<20?t&a|~t&r:e<40?t^a^r:e<60?t&a|t&r|a&r:t^a^r}function addSafe(e,t){const a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function bitwiseRotateToLeft(e,t){return e<<t|e>>>32-t}function sha1OfRawString(e){return function bigEndianToString(e){let t="";for(let a=0;a<32*e.length;a+=8)t+=String.fromCharCode(e[a>>5]>>>24-a%32&255);return t}(function bigEndianToSha1(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;const a=Array(80);let r=1732584193,n=-271733879,i=-1732584194,o=271733878,m=-1009589776;for(let t=0;t<e.length;t+=16){const g=r,s=n,c=i,h=o,u=m;for(let g=0;g<80;g+=1){a[g]=g<16?e[t+g]:bitwiseRotateToLeft(a[g-3]^a[g-8]^a[g-14]^a[g-16],1);const s=addSafe(addSafe(bitwiseRotateToLeft(r,5),sha1Triplet(g,n,i,o)),addSafe(addSafe(m,a[g]),(l=g)<20?1518500249:l<40?1859775393:l<60?-1894007588:-899497514));m=o,o=i,i=bitwiseRotateToLeft(n,30),n=r,r=s}r=addSafe(r,g),n=addSafe(n,s),i=addSafe(i,c),o=addSafe(o,h),m=addSafe(m,u)}var l;return Array(r,n,i,o,m)}(function rawStringToBigEndian(e){let t=Array(e.length>>2);for(let e=0;e<t.length;e+=1)t[e]=0;for(let a=0;a<8*e.length;a+=8)t[a>>5]|=(255&e.charCodeAt(a/8))<<24-a%32;return t}(e),8*e.length))}function cryptSha1(e){return function rawStringToHexString(e){let t,a="";for(let r=0;r<e.length;r+=1)t=e.charCodeAt(r),a+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return a}(sha1OfRawString(function stringToRawUtf8String(e){let t,a,r="",n=-1;for(;++n<e.length;)t=e.charCodeAt(n),a=n+1<e.length?e.charCodeAt(n+1):0,55296<=t&&t<=56319&&56320<=a&&a<=57343&&(t=65536+((1023&t)<<10)+(1023&a),n+=1),t<=127?r+=String.fromCharCode(t):t<=2047?r+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r}(e)))}(e=exports.ColumnPrimaryType||(exports.ColumnPrimaryType={})).BigInteger="bigint",e.Decimal="decimal",e.Integer="integer",e.SmallInteger="smallint",e.UUID="uuid",(t=exports.ColumnType||(exports.ColumnType={})).BigInteger="bigint",t.Bit="bit",t.BitVarying="bit varying",t.Bool="bool",t.Boolean="boolean",t.Box="box",t.ByteHexadecimal="bytea",t.CIText="citext",t.Char="char",t.Character="character",t.CharacterVarying="character varying",t.Circle="circle",t.Cube="cube",t.Date="date",t.DateRange="daterange",t.Decimal="decimal",t.DoublePrecision="double precision",t.Enum="enum",t.Float="float",t.Float4="float4",t.Float8="float8",t.Geography="geography",t.Geometry="geometry",t.HStore="hstore",t.IPAddress="inet",t.IPCIDR="cidr",t.Int="int",t.Int2="int2",t.Int4="int4",t.Int4Range="int4range",t.Int8="int8",t.Int8Range="int8range",t.Integer="integer",t.Interval="interval",t.JSON="json",t.JSONB="jsonb",t.LabelTrees="ltree",t.Line="line",t.LineSegment="lseg",t.MACAddress="macaddr",t.Money="money",t.NumberRange="numrange",t.Numeric="numeric",t.Path="path",t.Point="point",t.Polygon="polygon",t.Real="real",t.SmallInteger="smallint",t.String="character varying",t.Text="text",t.TextSearchQuery="tsquery",t.TextSearchVector="tsvector",t.Time="time",t.TimeStamp="timestamp",t.TimeStampWithTimeZoneAbbr="timestamptz",t.TimeStampWithTimeZoneRange="tstzrange",t.TimeStampWithoutTimeZone="timestamp without time zone",t.TimeStampWithoutTimeZoneRange="tsrange",t.TimeWithTimeZoneAbbr="timetz",t.TimeWithTimeZone="time with time zone",t.TimeWithoutTimeZone="time without time zone",t.TimeStampWithTimeZone="timestamp with time zone",t.UUID="uuid",t.VariableBitString="varbit",t.VariableChar="varchar",t.XML="xml";var r;(r=exports.ConstLength||(exports.ConstLength={}))[r.EmailMax=254]="EmailMax",r[r.EmailMin=6]="EmailMin",r[r.NameMax=99]="NameMax",r[r.NameMin=1]="NameMin",r[r.PassMax=128]="PassMax",r[r.PassMin=5]="PassMin";class CustomNamingStrategy extends a.DefaultNamingStrategy{foreignKeyName(e,t,a,r){e="string"==typeof e?e:e.name;const n=t.reduce((e,t)=>`${e}__${t}`,`${e}__${a}`);return Array.from(n).length>63?"FK__"+cryptSha1(n):"FK__"+n}}exports.ColumnOptionsExtra={comment:"Extra data in JSON format",default:{},name:"extra",nullable:!1,type:"json"},exports.CustomNamingStrategy=CustomNamingStrategy,exports.EMAIL_LENGTH_MAX=254,exports.EMAIL_LENGTH_MIN=6,exports.MANY_TO_MANY_OPTION_DEFAULT={eager:!0},exports.MANY_TO_ONE_OPTION_DEFAULT={eager:!0,onDelete:"RESTRICT",onUpdate:"CASCADE"},exports.NAME_LENGTH_MAX=99,exports.NAME_LENGTH_MIN=1,exports.ONE_TO_ONE_OPTION_DEFAULT={eager:!0,onDelete:"CASCADE",onUpdate:"CASCADE"},exports.PASSWORD_LENGTH_MAX=128,exports.PASSWORD_LENGTH_MIN=5;
//# sourceMappingURL=index.cjs.map
